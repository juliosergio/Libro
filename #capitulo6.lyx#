#LyX 2.0 created this file. For more info see http://www.lyx.org/
\lyxformat 413
\begin_document
\begin_header
\textclass book
\use_default_options true
\begin_modules
knitr
\end_modules
\maintain_unincluded_children false
\language spanish-mexico
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_amsmath 1
\use_esint 1
\use_mhchem 1
\use_mathdots 1
\cite_engine basic
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Chapter
Graficación con R
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<widthcap6, include=F>>=
\end_layout

\begin_layout Plain Layout

options('width')
\end_layout

\begin_layout Plain Layout

options(width=60)
\end_layout

\begin_layout Plain Layout

options('width')
\end_layout

\begin_layout Plain Layout

@
\end_layout

\begin_layout Plain Layout

<<set-optionsCap6, echo=FALSE, cache=FALSE>>=
\end_layout

\begin_layout Plain Layout

read_chunk('EjCap5.R')
\end_layout

\begin_layout Plain Layout

read_chunk('produceSym.R')
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Una de las grandes virutdes del lenguaje R, es la facilidad que ofrece para
 presentar la información correspondiente a los datos que maneja o a los
 cálculos que desarrolla, de una manera gráfica.
 El lenguaje cuenta, no con uno, sino con varios sistemas, en general separados,
 para organizar o especificar visualizaciones gráficas.
 En este capítulo se revisará uno de ellos, el sistema gráfico básico, que
 es el que está inmediatamente disponible en la instalación inicial del
 lenguaje.
\end_layout

\begin_layout Section
Motivación
\end_layout

\begin_layout Standard
Anteriormente, en el capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Escritura-de-Funciones"

\end_inset

, se vio colateralmente la manera para producir histogramas sencillos, a
 partir de un conjunto de datos.
 Sin embargo, en ese capítulo, la producción de estos histogramas, se hizo
 sin alterar o controlar la apariencia final del gráfico resultante; esto
 es, se dispuso de las opciones que el sistema otorga por ausencia, o por
 
\emph on
default
\emph default
.
 No obstante, la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Ajuste-de-datos"

\end_inset

 de ese capítulo, exhibe una apariencia que no es generada por el código
 de ejemplo que se muestra allí mismo, en la sección 
\begin_inset CommandInset ref
LatexCommand vref
reference "El-resultado-del-código"

\end_inset

.
 La producción de la gráfica en cuestión, requiere de la alteración de las
 opciones que el sistema ofrece por ausencia.
 
\end_layout

\begin_layout Standard
En el código que se muestra a continuación se puede observar cómo se modifican
 algunas de las opciones de apariencia, para generar el gráfico deseado,
 que se presenta nuevamente en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Gráfico-con-atributos"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<EjCap5, include=F, echo=F>>=
\end_layout

\begin_layout Plain Layout

@
\end_layout

\begin_layout Plain Layout

<<Grafico0, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

hist(pp$Precip, freq=F, breaks=15,
\end_layout

\begin_layout Plain Layout

     col="blueviolet", # Color de las barras
\end_layout

\begin_layout Plain Layout

     density=30, # Densidad de sombreado de las barras
\end_layout

\begin_layout Plain Layout

     main="Histograma y densidad Gamma", # Titulo
\end_layout

\begin_layout Plain Layout

     xlab="precipitacion (mm)", # Etiqueta del eje X
\end_layout

\begin_layout Plain Layout

     ylab="Densidad") # Etiqueta del eje Y
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

curve(dgammaX, add=T,
\end_layout

\begin_layout Plain Layout

     col="green", # Color de la curva
\end_layout

\begin_layout Plain Layout

     lwd=3) # Ancho de linea de la curva
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<Grafico1, ref.label='Grafico0', echo=FALSE, fig.width=4, fig.height=4, fig.show='h
old', out.width='.8
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Gráfico-con-atributos"

\end_inset

Gráfico con atributos
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Hasta aquí, se ha visto como producir histogramas y curvas.
 Existen varios otros tipos de gráficos, además de que hay muchas otras
 opciones para manipular su apariencia; algunos de estos tipos, así como
 algunas de sus opciones, se revisarán en las siguientes secciones del presente
 capítulo.
\end_layout

\begin_layout Section
La función más básica de graficación: 
\family typewriter
plot()
\end_layout

\begin_layout Standard
La función más simple para graficar es 
\family typewriter
plot()
\family default
.
 Antes de explicar sus posibilidades, veremos qué es lo que hace en el caso
 más sencillo.
 Para ello se empleará el mismo conjunto de datos último ejemplo del capítulo
 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Escritura-de-Funciones"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<Scatter0, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

plot(pp$Precip) # Produce un grafico de "dispersion"
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
El resultado de la operación anterior se puede ver en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Un-sencillo-gráfico"

\end_inset

, con algunas anotaciones acerca de los valores que ha tomado el lenguaje
 por omisión.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Scatter1.jpg
	lyxscale 60
	width 90text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Un-sencillo-gráfico"

\end_inset

Un sencillo gráfico de 
\emph on
dispersión
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
En general, la función 
\family typewriter
plot()
\family default
 toma como argumentos dos vectores de la misma dimensión, uno para los valores
 de las abscisas, 
\family typewriter
x
\family default
, y otro para los valores de las ordenadas, 
\family typewriter
y
\family default
.
 Sin embargo, cuando se omite uno de ellos, el lenguaje 
\emph on
entiende
\emph default
 que las abscisas serían simplemente los índices de los elementos en el
 vector provisto, y que las ordenadas serán, por tanto, cada uno de los
 elementos del vector.
 De igual manera, el lenguaje 
\emph on
supone
\emph default
 que lo que se quiere graficar son los puntos como tal y con el color y
 tipo de símbolo seleccionados por omisión.
 La función 
\family typewriter
plot()
\family default
 tiene una gran variedad de argumentos que permiten cambiar ese comportamiento
 por omisión y que pueden ser consultados en línea mediante la instrucción
 
\family typewriter

\begin_inset Quotes eld
\end_inset

?plot
\begin_inset Quotes erd
\end_inset


\family default
.
 
\end_layout

\begin_layout Standard
En seguida, se grafica la misma información que en el gráfico anterior,
 pero ahora como líneas azules, y considerando como abscisas los años de
 los datos, que en este caso son los nombres de los renglones del 
\emph on
data frame
\emph default
 que contiene los datos, 
\family typewriter
pp
\family default
.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<BlueLines0, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

# Para el manejo de etiquetas especiales,
\end_layout

\begin_layout Plain Layout

# con caracteres "raros para el Ingles", 
\end_layout

\begin_layout Plain Layout

lab <- "Años" # Etiqueta para las abscisas
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

plot(as.numeric(rownames(pp)), # las abscisas
\end_layout

\begin_layout Plain Layout

     pp$Precip, # las ordenadas
\end_layout

\begin_layout Plain Layout

     type="l",  # tipo de grafico: lineas
\end_layout

\begin_layout Plain Layout

     col="blue",  # color: azul
\end_layout

\begin_layout Plain Layout

     main="Precipitaciones, Octubre", # Titulo
\end_layout

\begin_layout Plain Layout

     sub="Estado de Guerrero", # Subtitulo
\end_layout

\begin_layout Plain Layout

     xlab=lab, # etiqueta eje X
\end_layout

\begin_layout Plain Layout

     ylab="Precipitacion") # etiqueta eje Y
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
El resultado correspondiente al código anterior se muestra en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Gráfico-de-líneas"

\end_inset

.
 Aquí, como ejemplo, se ha recurrido a proveer la etiqueta 
\begin_inset Quotes eld
\end_inset

Años
\begin_inset Quotes erd
\end_inset

, para el eje de las abscisas, por fuera del llamado a la función 
\family typewriter
plot()
\family default
, porque de otra manera el lenguaje no interpretaría correctamente que la
 tabla de codificación de caracteres es 
\begin_inset Quotes eld
\end_inset

UTF-8
\begin_inset Quotes erd
\end_inset

.
 También, cabe notar que los nombres de los renglones se han convertido
 a tipo numérico, ya que el vector 
\family typewriter
rownames(pp)
\family default
 es de cadenas de caracteres.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<BlueLines1, ref.label='BlueLines0', echo=FALSE, fig.width=4, fig.height=4,
 fig.show='hold', out.width='.8
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Gráfico-de-líneas"

\end_inset

Gráfico de líneas con la misma información que en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Un-sencillo-gráfico"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
En general, el gráfico más simple que se puediera ocurrir es probablemente
 un gráfico 
\emph on
x-y
\emph default
 resultante de la aplicación de una función; por ejemplo, el gráfico de
 las áreas de los círculos, en función de sus radios.
 A continuación se muestra el código para producir ese gráfico para once
 radios: del 0 al 10.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<Areas0, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

radio <- 0:10 # Vector de radios
\end_layout

\begin_layout Plain Layout

area <- pi*radio^2 # Vector de areas
\end_layout

\begin_layout Plain Layout

tit <- "Áreas de círculos" # Titulo del grafico
\end_layout

\begin_layout Plain Layout

plot(radio, area, # x=radio y=area
\end_layout

\begin_layout Plain Layout

     type="b", # "both", puntos y lineas
\end_layout

\begin_layout Plain Layout

     main=tit,
\end_layout

\begin_layout Plain Layout

     xlab="Radio (r)",
\end_layout

\begin_layout Plain Layout

     ylab=expression(Area == pi*r^2), # Una expresion
\end_layout

\begin_layout Plain Layout

     col="orange", # color (naranja)
\end_layout

\begin_layout Plain Layout

     pch=20) # tipo de simbolo para punto
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
El resultado del código anterior se puede observar en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Gráfico-de-radios"

\end_inset

.
 En este gráfico se ha añadido como título del eje de las ordenadas una
 expresión matemática.
 Mediante el uso de la función 
\family typewriter
expresion()
\family default
, el lenguaje se encarga de traducir la expresión a su representación matemática
 simbólica.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<Areas1, ref.label='Areas0', echo=FALSE, fig.width=4, fig.height=4, fig.show='hold'
, out.width='.8
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Gráfico-de-radios"

\end_inset

Gráfico de radios contra áreas de círculos
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Nótese que en el código anterior, se ha señalado el tipo de gráfico mediante
 el argumento 
\family typewriter
type=
\begin_inset Quotes erd
\end_inset

b
\begin_inset Quotes erd
\end_inset


\family default
; esto es, se graficarán tanto los puntos como las líneas que los unen.
 El argumento 
\family typewriter
type
\family default
 de la función 
\family typewriter
plot()
\family default
 permite modificar los tipos de gráficos que se pueden producir.
 En la tabla que se da a continuación, se describen dichos tipos de gráficos.
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="10" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="left" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
type=
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tipo de gráfico
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\begin_inset Quotes eld
\end_inset

p
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
puntos (gráfico de dispersión)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\begin_inset Quotes eld
\end_inset

l
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
líneas
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\begin_inset Quotes eld
\end_inset

b
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ambos (puntos y líneas)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\begin_inset Quotes eld
\end_inset

c
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sólo las líneas de 
\family typewriter
type=
\begin_inset Quotes erd
\end_inset

b
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\begin_inset Quotes eld
\end_inset

o
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
puntos y líneas, sobre-graficados
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\begin_inset Quotes eld
\end_inset

h
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
agujas (tipo histograma)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\begin_inset Quotes eld
\end_inset

s
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
función escalera (horizontal a vertical)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\begin_inset Quotes eld
\end_inset

S
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
función escalera (vertical a horizontal)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\begin_inset Quotes eld
\end_inset

n
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
no-grafica (sólo se grafican referencias)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
La Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Graficos-que-se"

\end_inset

 muestra la apariencia de cada uno de esos tipos, para los mismos datos
 de la figura anterior.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<GrTypes, echo=FALSE, fig.width=4, fig.height=7, fig.show='hold', out.width='1.0
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

ppar <- par(mfrow=c(5,2),
\end_layout

\begin_layout Plain Layout

            mar=c(2.1, 2.1, 2.1, 1.1))
\end_layout

\begin_layout Plain Layout

for (ii in c("p","l","b","c","o","h","s","S","n")) {
\end_layout

\begin_layout Plain Layout

  plot(radio, area, type=ii, pch=20, main=paste0('type="',ii,'"'))
\end_layout

\begin_layout Plain Layout

}
\end_layout

\begin_layout Plain Layout

par(ppar)
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Graficos-que-se"

\end_inset

Tipos de gráficos que se pueden producir con 
\family typewriter
plot()
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Aparte del tipo de gráfico, hay otros parámetros para cambiar la aparicencia
 del gráfico resultante.
 En la tabla siguiente se mencionan y describen algunos de los más importantes.
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="14" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="left" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Parámetro
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Uso/Descripción
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
main
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Título 
\emph on
principal
\emph default
 del gráfico
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
sub
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Subtítulo del gráfico
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
xlab
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Etiqueta del eje de las abscisas
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
ylab
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Etiqueta del eje de las ordenadas
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
asp
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Relación de aspecto del área gráfica (y/x)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
xlim, ylim
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Vectores que indican el rango de valores en los ejes x,y
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
log
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Los ejes que serán logarítmicos, p.ej., 
\begin_inset Quotes eld
\end_inset


\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

x
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

y
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

yx
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
col
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Color
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
bg
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Color del 
\emph on
fondo
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
pch
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Símbolos para puntos
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
cex
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Para escalado de símbolos de puntos
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
lty
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tipos de línea
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
lwd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Grosor de líneas
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
De particular interés aquí, son los símbolos empleados para los puntos y
 los colores.
 En la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Los-tipos-de"

\end_inset

 se muestran los tipos de símbolos para los puntos, esto es, los valores
 que se pueden dar al parámetro 
\family typewriter
pch
\family default
, que pueden ser numéricos, del 0 al 25, o caracteres.
 En particular, los símbolos del 21 al 25 son figuras bicolores, que toman
 el valor del parámetro 
\family typewriter
col
\family default
 para su contorno y del parámetro 
\family typewriter
bg
\family default
, para el relleno.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<pchShow, include=F, echo=F>>=
\end_layout

\begin_layout Plain Layout

@
\end_layout

\begin_layout Plain Layout

<<expchShow, echo=FALSE, fig.width=4, fig.height=4, fig.show='hold', out.width='0.8
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

pchShow(cex=1.5,cextext=1,main="",coltext="navyblue")
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Los-tipos-de"

\end_inset

Los tipos de símbolos utilizables para puntos (
\family typewriter
pch
\family default
)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para observar la utilidad del manejo de la apariencia, se presenta a continuació
n un ejemplo en el que se hace una gráfica que contiene dos funciones: el
 área y el perímetro de un círculo contra su radio.
 Para poder 
\emph on
encimar
\emph default
 los dos gráficos se emplea la función 
\family typewriter
lines()
\family default
; ésta permite agregar al gráfico actual otro de líneas y sus argumentos
 son semejantes a los de 
\family typewriter
plot()
\family default
.
 Además, para distinguir una curva de la otra resulta muy conveniente añadir
 una leyenda con la simbología y textos adecuados; ésto se hace por medio
 de la función 
\family typewriter
legend()
\family default
.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<AreasPerimetros0, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

aa <- "área" # Texto para leyenda
\end_layout

\begin_layout Plain Layout

pp <- "perímetro" # Texto para leyenca
\end_layout

\begin_layout Plain Layout

xl <- "área, perímetro" # Etiqueta eje X
\end_layout

\begin_layout Plain Layout

radio <- seq(0,5,by=0.5) # Vector de radios 
\end_layout

\begin_layout Plain Layout

area <- pi*radio^2 # Vector de areas 
\end_layout

\begin_layout Plain Layout

perimetro <- 2*pi*radio # Vector de perimetros 
\end_layout

\begin_layout Plain Layout

plot(area, radio, type="o", xlab=xl, pch=21, col="red3", 
\end_layout

\begin_layout Plain Layout

     bg="gold") 
\end_layout

\begin_layout Plain Layout

# En seguida "encimaremos" sobre el grafico anterior (areas),
\end_layout

\begin_layout Plain Layout

# el de perimetros
\end_layout

\begin_layout Plain Layout

lines(perimetro, radio, type="o", pch=23, col="navyblue", 
\end_layout

\begin_layout Plain Layout

      bg="violetred") 
\end_layout

\begin_layout Plain Layout

legend("bottomright",                  # ubicacion leyenda
\end_layout

\begin_layout Plain Layout

       legend = c(aa,     pp         ),  # textos de leyenda
\end_layout

\begin_layout Plain Layout

       lty =    c(1,      1          ),  # tipo de linea
\end_layout

\begin_layout Plain Layout

       pch =    c(21,     23         ),  # simbolos
\end_layout

\begin_layout Plain Layout

       col =    c("red3", "navyblue" ),  # color lineas
\end_layout

\begin_layout Plain Layout

       pt.bg =  c("gold", "violetred") ) # relleno de simbolo
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
El resultado del código previo se muestra en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Áreas-y-perímetros"

\end_inset

.
 Como los elementos de la leyenda son dos, esto es, las curvas correspondientes
 a las áreas y a los perímetros, todos los parámetros de la función, salvo
 su ubicación, deberán ser dobles y por eso se proveen mediante vectores
 con la función 
\family typewriter
c()
\family default
.
 Nótese además que, en la leyenda, para indicar el color de relleno del
 símbolo no se ha usado el parámetro 
\family typewriter
bg
\family default
, sino 
\family typewriter
pt.bg
\family default
, ya que, para el caso de leyendas el parámetro 
\family typewriter
bg
\family default
 está reservado para indicar el color de fondo del recuadro de leyendas.
 Por otra parte, en la leyenda también, se ha tenido que indicar el tipo
 de línea, que por omisión en la función 
\family typewriter
plot()
\family default
 es 1; esto es así, porque, de no hacerlo, la función 
\family typewriter
legend()
\family default
 solamente mostraría el símbolo sin la línea.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<AreasPerimetros1, ref.label='AreasPerimetros0', echo=FALSE, fig.width=4,
 fig.height=4, fig.show='hold', out.width='.8
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Áreas-y-perímetros"

\end_inset

Áreas y perímetros de círculos contra su radio
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Section
Colores
\end_layout

\begin_layout Standard
\begin_inset CommandInset label
LatexCommand label
name "sec:En-todos-los"

\end_inset

En todos los ejemplos anteriores, se han manejado los colores mediante nombres,
 tales como: 
\begin_inset Quotes eld
\end_inset


\emph on
red
\emph default

\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset


\emph on
blue
\emph default

\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset


\emph on
navyblue
\emph default

\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset


\emph on
violetred
\emph default

\begin_inset Quotes erd
\end_inset

, etc.
 El lenguaje, sin embargo, provee de diversos mecanismos para especificar
 los colores, el más simple de los cuales, es mediante un número entero.
 La Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Colores-por-número"

\end_inset

, muestra los colores numerados del 1 al 16.
 Puede notarse que esta forma sencilla de especificar los colores es bastante
 limitada, ya que en realidad sólo se dispone de ocho colores diferentes;
 esto es, del 1 al 8, en orden: negro, rojo, verde, azul, cian, magenta,
 amarillo y gris.
 A partir del color 9, la secuencia se repite.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<colShow, echo=FALSE, fig.width=4, fig.height=4, fig.show='hold', out.width='0.8
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

colShow(cex=3.5,cextext=1,main="")
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Colores-por-número"

\end_inset

Colores por número entero
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
El esquema más general para la especificación de un color es por medio de
 la especificación de sus 
\emph on
contenidos
\emph default
 de los colores primarios: rojo, verde y azul, RGB, por sus nombres en inglés.
 En este caso, hay por lo menos dos maneras de especificar el color, a saber:
 por medio de su código hexadecimal y por medio de la especificación de
 sus contenidos 
\emph on
porcentuales
\emph default
 de color usando la función 
\family typewriter
rgb()
\family default
.
 El código hexadecimal, asigna un byte para la especificación del contenido
 de cada color y, por consiguiente, el contenido es expresado como un entero
 entre 0 y 
\begin_inset Formula $(2^{8}-1)$
\end_inset

, o sea, entre 0 y 255, expresado como hexadecimal; con 0 indicando la ausencia
 completa del color y con 255 indicando la presencia completa o el 100%
 del color en cuestión.
 De este modo, supóngase que se quiere expresar un color con 176 de rojo,
 48 de verde y 96 de azul, los códigos hexadecimales correspondientes a
 esos números son: B0, 30 y 60, respectivamente.
 Así, el código hexadecimal del color que se quiere representar es 
\begin_inset Quotes eld
\end_inset

B03060
\begin_inset Quotes erd
\end_inset

.
 Ya que este código de color se le proporcionará al lenguaje como una cadena
 de caracteres y para que no haya confusión con la especificación de colores
 por nombre, se antepone el símbolo '#', a la cadena; esto es, para el caso
 del ejemplo el código de color sería la cadena: 
\family typewriter

\begin_inset Quotes eld
\end_inset

#B03060
\begin_inset Quotes erd
\end_inset


\family default
.
 La función rgb(), provee de una manera sencilla para obtener esa cadena
 de caracteres representativa del color, dando, como números, los valores
 individuales para cada color.
 Por ejemplo, para obtener el código del ejemplo, se puede hacer así:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<rgb1, tidy=F>>=
\end_layout

\begin_layout Plain Layout

rgb(176, 48, 96, maxColorValue=255)
\end_layout

\begin_layout Plain Layout

# O como numeros entre 0 y 1 (porcentajes):
\end_layout

\begin_layout Plain Layout

rgb(176/255, 48/255, 96/255)
\end_layout

\begin_layout Plain Layout

# La funcion rgb() puede producir los codigos
\end_layout

\begin_layout Plain Layout

# de color de varios colores simultaneamente:
\end_layout

\begin_layout Plain Layout

colores <- rgb(red=  c(176,255,238,205), 
\end_layout

\begin_layout Plain Layout

               green=c( 48, 52, 48, 41),
\end_layout

\begin_layout Plain Layout

               blue= c( 96,179,167,144),
\end_layout

\begin_layout Plain Layout

               max=255) # se puede abreviar "maxColorValue"
\end_layout

\begin_layout Plain Layout

colores
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
En seguida se utilizará ese arreglo de colores para la producción de una
 gráfica muy sencilla en la que se pueda visualizar el efecto visual de
 cada color.
 El resultado del código se puede observar en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Gráfico-de-colores"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<rgb2, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

plot(1:4, pch=22, cex=10, bg=colores, 
\end_layout

\begin_layout Plain Layout

     xlim=c(-0.5,4.5), ylim=c(-0.5,4.5))
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<rgb3, ref.label='rgb2', echo=FALSE, fig.width=4, fig.height=4, fig.show='hold',
 out.width='.8
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Gráfico-de-colores"

\end_inset

Gráfico de colores especificados por código hexadecimal
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Los colores también se pueden especificar por sus nombres en inglés.
 El lenguaje tiene registrados 657 nombres alfanuméricos de colores que
 se pueden revisar mediante la función 
\family typewriter
colors()
\family default
 del lenguaje.
 Como un ejemplo se muestran en seguida los primeros veinte nombres contenidos
 en vector que regresa dicha función, y el segmento de colores entre los
 índices 455 al 458.
 Además el lenguaje cuenta con funciones que permiten obtener los contenidos
 de color RGB de cada uno de los colores nombrados.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<colores0, tidy=F>>=
\end_layout

\begin_layout Plain Layout

# Los primeros veinte nombres de colores:
\end_layout

\begin_layout Plain Layout

head(colors(),20)
\end_layout

\begin_layout Plain Layout

# Los elementos 455 al 458
\end_layout

\begin_layout Plain Layout

coloresPorNombre <- colors()[455:458]
\end_layout

\begin_layout Plain Layout

coloresPorNombre
\end_layout

\begin_layout Plain Layout

# Para encontrar los contenidos de RGB:
\end_layout

\begin_layout Plain Layout

(dd <- col2rgb(coloresPorNombre))
\end_layout

\begin_layout Plain Layout

# Y para encontrar los hexadecimales correspondientes:
\end_layout

\begin_layout Plain Layout

codigos <- rgb(red=  dd["red",], 
\end_layout

\begin_layout Plain Layout

               green=dd["green",],
\end_layout

\begin_layout Plain Layout

               blue= dd["blue",],
\end_layout

\begin_layout Plain Layout

               max=255) # se puede abreviar "maxColorValue"
\end_layout

\begin_layout Plain Layout

codigos
\end_layout

\begin_layout Plain Layout

# Pero, dado que 'dd' es una matriz, 
\end_layout

\begin_layout Plain Layout

# podemos obtener el mismo resultado con su
\end_layout

\begin_layout Plain Layout

# traspuesta asi:
\end_layout

\begin_layout Plain Layout

(codigos <- rgb(t(dd), max=255))
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Nótese que, intencionalmente, los códigos de color obtenidos son exactamente
 los mismos que en el ejemplo anterior.
 Así, para obtener la misma gráfica que se muestra en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Gráfico-de-colores"

\end_inset

, por medio de los nombres de colores bastará con ejecutar el siguiente
 código:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<colores1, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

# Se proporciona el vector de nombres de
\end_layout

\begin_layout Plain Layout

# colores en vez del vector de codigos
\end_layout

\begin_layout Plain Layout

plot(1:4, pch=22, cex=10, bg=coloresPorNombre, 
\end_layout

\begin_layout Plain Layout

     xlim=c(-0.5,4.5), ylim=c(-0.5,4.5))
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Como posiblemente los nombres de los colores no dan una idea exacta de la
 apariencia del color, en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Apariencia-de-los"

\end_inset

, se muestra una tabla con los colores nombrados por la funcion 
\family typewriter
colors()
\family default
 y su respectivo índice
\begin_inset Foot
status open

\begin_layout Plain Layout
Esta tabla ha sido tomada de http://research.stowers-institute.org/efg/R/Color/Cha
rt/, que contiene además otras ayudas para la especificación de colores
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ColorsChart1.jpg
	lyxscale 80
	width 87text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Apariencia-de-los"

\end_inset

Apariencia de los colores regresados por la función 
\family typewriter
colors()
\family default
 y su índice
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Al principio de esta sección, 
\begin_inset CommandInset ref
LatexCommand vpageref
reference "sec:En-todos-los"

\end_inset

, se dijo que la especificación de colores por número era limitada.
 Esto se debe a que, por omisión, el lenguaje cuenta con una paleta de sólo
 ocho colores.
 La función 
\family typewriter
palette()
\family default
, permite consultar la paleta actual o establecer una nueva.
 La especificación de los colores en una paleta se hace por medio de los
 códigos hexadecimales o de los nombre de los colores que se pretende usar.
 En seguida se hace la consulta de la paleta actual y se cambia por una
 diferente.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<paletas, tidy=F>>=
\end_layout

\begin_layout Plain Layout

# la paleta actual
\end_layout

\begin_layout Plain Layout

palette()
\end_layout

\begin_layout Plain Layout

# para cambiarla, por ejemplo, con los primeros
\end_layout

\begin_layout Plain Layout

# veinticinco colores de colors()
\end_layout

\begin_layout Plain Layout

palette(colors()[1:25])
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
En la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Nueva-paleta-para"

\end_inset

 se muestran los colores resultantes con la nueva paleta de colores.
 A partir de aquí, los números del 1 al 25 se podrían utilizar para especificar
 los colores que se muestran en la figura.
 El tamaño máximo de una paleta definida con esta función es de 1024 colores.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<paletas1, echo=FALSE, fig.width=4, fig.height=4, fig.show='hold', out.width='0.8
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

colShow(np=25, cex=3.5,cextext=1,main="")
\end_layout

\begin_layout Plain Layout

palette("default")
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Nueva-paleta-para"

\end_inset

Nueva paleta para especificar colores por números enteros
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Además de lo antedicho, en el lenguaje se han desarrollado diversas paletas
 de colores con fines específicos, y que son provistas o counstruídas por
 funciones tales como: 
\family typewriter
heat.colors()
\family default
, 
\family typewriter
terrain.colors()
\family default
, 
\family typewriter
topo.colors()
\family default
, 
\family typewriter

\begin_inset Newline linebreak
\end_inset

cm.colors()
\family default
, 
\family typewriter
rainbow()
\family default
.
 Salvo la función 
\family typewriter
rainbow()
\family default
, todas las otras funciones tienen sólo dos argumentos, 
\family typewriter
n
\family default
 y 
\family typewriter
alpha
\family default
, que son, respectivamente, el tamaño de la paleta y la fracción de transparenci
a, que es un número entre 0 y 1, que indica el grado de opacidad de los
 colores en cuestión.
 El resultado de las funciones, que es un vector de caracteres con los códigos
 hexadecimales de los colores.
\end_layout

\begin_layout Standard
Para ilustrar lo anterior, se dibujará primeramente un conjunto de líneas
 rectas con la función 
\family typewriter
abline()
\family default
, que permite, entre otras cosas dibujar líneas a partir de su intercepto
 y pendiente, y posteriormente, sobre este gráfico se dibujarán figuras
 de diversos colores tomados de alguna de las paletas anteriores, mediante
 la función 
\family typewriter
points()
\family default
, que sirve para agregar puntos en la forma de símbolos a un gráfico previo
 y cuyos argumentos son similares a los de 
\family typewriter
plot()
\family default
.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<paletas2, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

# Se establece el espacio de dibujo:
\end_layout

\begin_layout Plain Layout

plot(0, type="n", xlim=c(0,10), ylim=c(0,10))
\end_layout

\begin_layout Plain Layout

# Se dibujan las lineas rectas; para ello,
\end_layout

\begin_layout Plain Layout

# se hace uso de mapply que aplica de manera
\end_layout

\begin_layout Plain Layout

# multiple una funcion:
\end_layout

\begin_layout Plain Layout

void <- mapply(abline, 
\end_layout

\begin_layout Plain Layout

               c(2,1,0,-1,-2), # interceptos por linea
\end_layout

\begin_layout Plain Layout

               rep(1,5))       # pendiente = 1
\end_layout

\begin_layout Plain Layout

# dibujamos las figuras (transparentes)
\end_layout

\begin_layout Plain Layout

points(1:9, pch=22, cex=10, bg=topo.colors(9,alpha=0.5))
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<paletas3, ref.label='paletas2', echo=FALSE, fig.width=4, fig.height=4, fig.show='h
old', out.width='.8
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Uso-de-las"

\end_inset

Uso de las paletas de colores y los colores 
\emph on
transparentes
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Los resultados del código anterior se muestran en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Uso-de-las"

\end_inset

.
 Un resultado similar se hubiera obtenido sustituyendo el llamado a la función
 
\family typewriter
points()
\family default
, con el siguiente código que establece la paleta de colores antes del llamado
 a 
\family typewriter
points()
\family default
.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<paletas4, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

# Establecemos la paleta de colores
\end_layout

\begin_layout Plain Layout

palette(topo.colors(9,alpha=0.5))
\end_layout

\begin_layout Plain Layout

points(1:9, pch=22, cex=10, col="black", bg=1:9)
\end_layout

\begin_layout Plain Layout

# Regresamos la paleta de colores a su
\end_layout

\begin_layout Plain Layout

# estado inicial:
\end_layout

\begin_layout Plain Layout

palette("default")
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Nótese que aquí, en el llamado a 
\family typewriter
points()
\family default
, se ha tenido que dar el parámetro 
\family typewriter
col=
\begin_inset Quotes erd
\end_inset

black
\begin_inset Quotes erd
\end_inset


\family default
.
 Esto es debido a que el valor por omisión para este parámetro es 1, y entonces
 el color sería tomado de la paleta actual, que no es negro como se desea
 para el contorno de los símbolos.
\end_layout

\begin_layout Section
Gráficos para una variable
\end_layout

\begin_layout Standard
Para introducir este tipo de gráficos se propone un ejemplo: la lista de
 asistentes a un cierto congreso, con el tipo de transporte por el cuál
 arribaron al mismo.
 La información correspondiente se registrará en un 
\emph on
data frame
\emph default
, que por omisión convierte las cadenas de caracteres a factores.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<ciertocongreso, tidy=F>>=
\end_layout

\begin_layout Plain Layout

participantes <-c(
\end_layout

\begin_layout Plain Layout

    "Fulano", "Sutano", "Mengano", "Perengano", "Metano",
\end_layout

\begin_layout Plain Layout

    "Etano", "Propano", "Butano", "Pentano", "Hexano",
\end_layout

\begin_layout Plain Layout

    "Heptano", "Octano", "Ciclopentano",
\end_layout

\begin_layout Plain Layout

    "Enano", "Decano", "Hermano") 
\end_layout

\begin_layout Plain Layout

transporte <- c(
\end_layout

\begin_layout Plain Layout

    "aereo", "terrestre", "tren", "maritimo", "tren",
\end_layout

\begin_layout Plain Layout

    "tren", "terrestre", "terrestre", "aereo", "terrestre",
\end_layout

\begin_layout Plain Layout

    "maritimo", "terrestre", "aereo",
\end_layout

\begin_layout Plain Layout

    "terrestre", "terrestre", "aereo")
\end_layout

\begin_layout Plain Layout

( info <- data.frame(participantes, transporte) )
\end_layout

\begin_layout Plain Layout

# Veamos cual es la clase de info$transporte
\end_layout

\begin_layout Plain Layout

class(info$transporte)
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Si ahora, se quire ver el tipo de gráfico que produce por omisión la función
 
\family typewriter
plot()
\family default
, para este tipo de dato, se hace con:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<ciertocongreso1, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

plot(info$transporte,
\end_layout

\begin_layout Plain Layout

     las=2) # hace los textos perpendiculares al eje
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<ciertocongreso2, ref.label='ciertocongreso1', echo=FALSE, fig.width=4, fig.height
=4, fig.show='hold', out.width='.6
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Un-diagrama-de"

\end_inset

Un diagrama de barras para los tipos de transporte
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
El resultado de este código se puede ver en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Un-diagrama-de"

\end_inset

.
 En el eje de las abscisas se han anotado las categorías, o 
\emph on
levels
\emph default
, del factor, y se ha dibujado una barra con una altura correspondiente
 al número de elementos encontrados en el factor, para esa categoría.
 Este tipo de gráfico es lo que se conoce como un 
\emph on
gráfico de barras
\emph default
.
 En el caso de los factores, al producir esta gráfica, el lenguaje nos ha
 ahorrado una serie de pasos intermedios.
 En la sección 
\begin_inset CommandInset ref
LatexCommand vref
reference "factores-table-ref"

\end_inset

, se usó la función 
\family typewriter
table()
\family default
 para calcular la frecuencia de aparición de los elementos de un factor.
 Así, para el presente caso, con esa función se hubiera obtenido:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<ciertocongreso3, tidy=F>>=
\end_layout

\begin_layout Plain Layout

tt <- table(info$transporte)
\end_layout

\begin_layout Plain Layout

tt
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
De este modo, para producir con esta información una gráfica semejante a
 la de la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Un-diagrama-de"

\end_inset

, se podría haber ejecutado el siguiente código más expícito:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<ciertocongreso4, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

barplot(table(info$transporte), # Notese que se usa barplot en vez
\end_layout

\begin_layout Plain Layout

                                # de plot
\end_layout

\begin_layout Plain Layout

     las=2) # hace los textos perpendiculares al eje
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Otra forma de ver la misma información, es por medio de lo que se conoce
 como 
\emph on
gráfico de pastel
\emph default
.
 Para introducir este tipo de gráfico, se transformará la tabla 
\family typewriter
tt
\family default
 a otra tabla que muestre las frecuencias relativas de cada uno de los elementos
 del factor, así:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<ciertocongreso5, tidy=F>>=
\end_layout

\begin_layout Plain Layout

rr <- tt/sum(tt) # Frecuencias relativas
\end_layout

\begin_layout Plain Layout

rr
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ahora, se producirá un gráfico de barras con las frecuencias relativas y
 se producirá un gráfico de pastel, por medio de la función 
\family typewriter
pie()
\family default
.
 Para darle una apariencia 
\emph on
más agradable
\emph default
, se emplean 4 colores de la paleta de colores 
\family typewriter
rainbow()
\family default
.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<ciertocongreso6, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

barplot(rr, col=rainbow(4), las=2) # Aqui se usa 'rr'
\end_layout

\begin_layout Plain Layout

pie(tt, col=rainbow(4))            # Aqui se usa 'tt'
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Al ejecutarse el código anterior, produce los gráficos que se muestran en
 la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:BarrasYpastel"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<ciertocongreso7, ref.label='ciertocongreso6', echo=FALSE, fig.width=4, fig.height
=4, fig.show='hold', out.width='.6
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:BarrasYpastel"

\end_inset

Un gráfico de barras y uno de pastel con la misma información
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Una de las características interesantes de los gráficos de barras es que
 cuando se tienen diversas series de datos sobre un mismo asunto, se pueden
 utilizar para hacer comparaciones.
 Supóngase, para el mismo ejemplo del congreso, que los datos anteriores
 corresponden al evento para el año 2012, pero que para el año 2014, las
 proporciones de tipo de transporte fueron las siguientes:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<doscongresos0, tidy=F>>=
\end_layout

\begin_layout Plain Layout

congreso2014 <- c(aereo=0.12, maritimo=0.1875, 
\end_layout

\begin_layout Plain Layout

                  terrestre=0.4925, tren=0.2)
\end_layout

\begin_layout Plain Layout

congreso2014
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Con estos nuevos datos, se puede construir una matriz que contenga todos
 los datos:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<doscongresos1, tidy=F>>=
\end_layout

\begin_layout Plain Layout

rr1 <- rbind(rr, congreso2014)
\end_layout

\begin_layout Plain Layout

rownames(rr1) <- c("2012","2014") # se dan nombres a renglones
\end_layout

\begin_layout Plain Layout

rr1
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
A partir de aquí, se pueden obtener gráficos de barras apareadas o agrupadas,
 para dos casos: si se toma como categoría principal el tipo de transporte
 que se usó o, si se toma como categoría principal los años de los congresos.
 En el primer caso, se usa directamente la matriz que se ha obtenido (
\family typewriter
rr1
\family default
), mientras que en el segundo caso, se usa traspuesta de la matriz 
\family typewriter
rr1
\family default
, usando cuatro colores, dado que el agrupamiento es de cuatro barras, una
 para cada tipo de transporte.
 En ambos casos, en la función 
\family typewriter
barplot()
\family default
, se especifica el argumento 
\family typewriter
beside=TRUE
\family default
, para producir grupos de barras en vez de 
\emph on
stacks
\emph default
 de barras.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

<<doscongresos2, eval=F, tidy=F>>=
\end_layout

\begin_layout Plain Layout

# El resultado mas adecuado se obtiene 
\end_layout

\begin_layout Plain Layout

# con la matriz
\end_layout

\begin_layout Plain Layout

barplot(rr1, beside=T, col=c(1,2), las=2)
\end_layout

\begin_layout Plain Layout

legend("topleft", legend=rownames(rr1), col=c(1,2), pch=15)
\end_layout

\begin_layout Plain Layout

# Pero tambien se puede tener el caso de 
\end_layout

\begin_layout Plain Layout

# la traspuesta de la matriz original
\end_layout

\begin_layout Plain Layout

barplot(t(rr1), beside=T, col=1:4) 
\end_layout

\begin_layout Plain Layout

legend(x=4.1, y=0.48, legend=colnames(rr1), col=1:4, pch=15)
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Standard
El resultado de los dos gráficos producidos con el código anterior se puede
 apreciar en la Fig.
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Gráficos-de-barras-apareadas"

\end_inset

.
 Nótese que la leyenda se ha tenido que ubicar, en ambos casos, en el sitio
 que el gráfico lo ha permitido, y su especificación se ha hecho de dos
 maneras: por medio de un texto descriptivo y por medio de coordenadas dentro
 del espacio de dibujo.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout

<<doscongresos3, ref.label='doscongresos2', echo=FALSE, fig.width=4, fig.height=4,
 fig.show='hold', out.width='.6
\backslash

\backslash
linewidth'>>=
\end_layout

\begin_layout Plain Layout

@
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Gráficos-de-barras-apareadas"

\end_inset

Gráficos de barras apareadas o agrupadas
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Section
Ejemplo de gráficas escalonadas: distribución de Poisson
\end_layout

\begin_layout Standard

\end_layout

\end_body
\end_document
